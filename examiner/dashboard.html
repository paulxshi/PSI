<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="../imgs/PSI.png">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../css/dashstyle.css">
  <link rel="stylesheet" href="css/dashboard.css">
	<title>Dashboard</title>
</head>

<body>

	<!-- Sidebar Section -->
	<section id="sidebar">
		<a href="#" class="brand" style="display: flex; align-items: center;">
			<img src="../imgs/PSI.png" alt="RHULogo" class="logo">
			<span class="text">PSI-PMMA Portal</span>
		</a>
		<ul class="side-menu top">
			<li class="active">
				<a href="dashboard.html">
					<i class="bx bxs-dashboard"></i>
					<span class="text">Dashboard</span>
				</a>
			</li>

      <li>
        <a href="accountsettings.html">
          <i class="bx bx-cog ms-1"></i>
          <span class="text">Account Settings</span>
        </a>
      </li>
		</ul>

		<ul class="side-menu">
      <li>
        <a href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
          <i class="bx bxs-log-out-circle"></i>
          <span class="text">Logout</span>
        </a>
      </li>
    </ul>
		
	</section>

	<section id="content">

      <nav>
        <div class="greeting">
          <span>User</span>
        </div>
      </nav>

    <main class="container-fluid p-4">

      <!-- EXAM INFO HEADER -->
    <div class="row mb-4">
        <div class="col-12">
          <div class="d-flex justify-content-between text-center exam-info">

            <div class="flex-fill">
              <small class="d-inline-block bg-success bg-opacity-10 text-success 
                          px-3 py-1 rounded-pill text-uppercase fw-semibold mb-2">
                Date of Registration
              </small>
              <div class="fw-bold" id="registration-date">
                <!-- JS will populate -->
              </div>
            </div>

            <div class="flex-fill">
              <small class="d-inline-block bg-success bg-opacity-10 text-success 
                          px-3 py-1 rounded-pill text-uppercase fw-semibold mb-2">
                Date of Examination
              </small>
              <div class="fw-bold" id="examination-date">
                <!-- JS will populate -->
              </div>
            </div>

              <div class="flex-fill">
              <small class="d-inline-block bg-success bg-opacity-10 text-success 
                          px-3 py-1 rounded-pill text-uppercase fw-semibold mb-2">
                Examination Venue
              </small>
              <div class="fw-bold" id="examination-venue">
                <!-- JS will populate -->
              </div>
          </div>
          </div>
      </div>

    </div>

      <!-- USER INFO CONTAINER -->
      <div class="container">
        <div class="row g-4">
            <!--USER CARD -->

            <div class="col-12 col-lg-7">
                <div id="userCard" class="content-box">
                  <!-- USER INFO -->
                </div>
            </div>

            <div class="col-12 col-lg-4">
                <div id="qrCode" class="qr-card">
                  <h5 class="qr-title fw-bold">Scan QR Code</h5>

                  <p class="qr-subtitle">
                    Download and present this QR code at the examination site for verification.
                  </p>

                  <!-- QR Box -->
                  <div class="qr-box">
                    <div id="qrContainer"></div>
                      <img
                        src="../imgs/PSI.png"
                        alt="PSI Logo"
                        class="qr-logo"
                      />
                  </div>

                  <!-- QR Text -->
                  <p class="qr-code-text" id="qrText"></p>

                  <!-- Actions -->
                <button id="downloadQR" class="btn btn-primary w-100 mt-3 d-flex align-items-center justify-content-center gap-2">
                  <i class="bx bx-download"></i>
                  Download QR Code
                </button>
                </div>
            </div>
          
            <div class="row g-4">
                <div class="col-12 col-lg-13">
                  <div id="faq" class="content-box">
                      <h4 class="fw-semibold mb-1">Frequently asked questions</h4>
                      <p class="text-muted mb-4" style="font-size: 0.9rem;">
                        These are the most common questions about the examination process.
                      </p>

                      <div class="faq-ui">

                        <div class="faq-row">
                          <button class="faq-toggle">
                            <div class="faq-left">
                              <div class="faq-icon"><i class="bx bx-info-circle"></i></div>
                              <span>What happens after I complete the online registration?</span>
                            </div>
                            <i class="bx bx-chevron-down faq-chevron"></i>
                          </button>
                          <div class="faq-content-wrapper open">
                            <div class="faq-content">
                              Once your online registration is confirmed, you will receive a registration confirmation and via email, which serves as your entry pass for the onsite examination.
                            </div>
                          </div>
                        </div>

                        <div class="faq-row">
                          <button class="faq-toggle">
                            <div class="faq-left">
                              <div class="faq-icon"><i class="bx bx-edit"></i></div>
                              <span>Do I need to bring anything for the onsite exam?</span>
                            </div>
                            <i class="bx bx-chevron-down faq-chevron"></i>
                          </button>
                          <div class="faq-content-wrapper">
                            <div class="faq-content">
                              Yes. Bring a pen, your ID, your confirmation email and the QR code provided after registration. These will be scanned at the entrance to verify your registration.
                            </div>
                          </div>
                        </div>

                        <div class="faq-row">
                          <button class="faq-toggle">
                            <div class="faq-left">
                              <div class="faq-icon"><i class="bx bx-calendar"></i></div>
                              <span>Can I reschedule my onsite examination?</span>
                            </div>
                            <i class="bx bx-chevron-down faq-chevron"></i>
                          </button>
                          <div class="faq-content-wrapper">
                            <div class="faq-content">
                              Rescheduling depends on availability. Contact the site administrator for assistance. Any rescheduling fees, if applicable, will be clearly indicated.
                            </div>
                          </div>
                        </div>

                        <div class="faq-row">
                          <button class="faq-toggle">
                            <div class="faq-left">
                              <div class="faq-icon"><i class="bx bx-qr"></i></div>
                              <span>What if I lose my QR code or confirmation?</span>
                            </div>
                            <i class="bx bx-chevron-down faq-chevron"></i>
                          </button>
                          <div class="faq-content-wrapper">
                            <div class="faq-content">
                              You can log in to your account at any time to download your QR code or confirmation slip again. If you encounter issues, contact the support team before your exam date.
                            </div>
                          </div>
                        </div>

                      </div>
                  </div>
              </div>
          </div>

     </div>
  </div>
</main>

<div
  class="modal fade"
  id="logoutModal"
  tabindex="-1"
  aria-labelledby="logoutModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered logout-modal">
    <div class="modal-content border-0 rounded-4 shadow">

      <!-- Header -->
      <div class="modal-header bg-light border-0 rounded-top-4 px-4 py-3">
        <h5 class="modal-title fw-bold mb-0" id="logoutModalLabel">
          Confirm Logout
        </h5>
        <button
          type="button"
          class="btn-close no-focus"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>

      <!-- Divider -->
      <div class="px-4">
        <hr class="my-0">
      </div>

      <!-- Body -->
      <div class="modal-body px-4 py-4 text-center">
        <i class="bx bx-log-out-circle fs-1 text-muted mb-3"></i>
        <p class="mb-0 text-muted">
          Are you sure you want to log out of your account?
        </p>
      </div>

      <!-- Footer -->
      <div class="modal-footer border-0 px-4 pb-4 pt-2 justify-content-center">
        <button
          type="button"
          class="btn btn-outline-secondary rounded-pill px-4"
          data-bs-dismiss="modal"
        >
          Cancel
        </button>
        <a
          href="../php/logout.php"
          class="btn btn-danger rounded-pill px-4"
        >
          Logout
        </a>
      </div>

    </div>
  </div>
</div>



<script src="js/get_user.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
