<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="../imgs/PSI.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=DM+Sans:wght@300;400;500;600&family=Syne:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/dashstyle.css">
  <title>Dashboard</title>

<style>
/* ═══════════════════════════════════════════════
   COLOR VARIABLES
═══════════════════════════════════════════════ */
:root {
  --ink:        #0a0a0f;
  --ink-80:     rgba(10,10,15,0.80);
  --ink-40:     rgba(10,10,15,0.40);
  --ink-12:     rgba(10,10,15,0.12);
  --ink-06:     rgba(10,10,15,0.06);
  --gold:       #FF8040;
  --gold-lt:    #d4b87a;
  --gold-dim:   rgba(184,154,90,0.18);
  --gold-glow:  rgba(184,154,90,0.08);
  --blue:       #2563eb;
  --blue-lt:    #3b82f6;
  --blue-dim:   rgba(37,99,235,0.10);
  --surface:    #ffffff;
  --surface-2:  #f7f7f8;
  --border:     rgba(10,10,15,0.08);
  --radius-xl:  24px;
  --radius-lg:  16px;
  --radius-md:  12px;
  --radius-sm:  8px;
  --shadow-card:
    0 0 0 1px var(--border),
    0 4px 6px rgba(0,0,0,0.02),
    0 12px 40px rgba(0,0,0,0.07),
    0 24px 64px rgba(0,0,0,0.04);
  --shadow-float:
    0 8px 32px rgba(0,0,0,0.12),
    0 2px 8px rgba(0,0,0,0.06);
  --transition: all 0.35s cubic-bezier(0.22, 1, 0.36, 1);
}

/* ═══════════════════════════════════════════════
   EXAM INFO HEADER — REFINED TICKER STRIP
═══════════════════════════════════════════════ */
.exam-info-strip {
  display: flex;
  justify-content: center;
  align-items: stretch;
  gap: 0;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  overflow: hidden;
  box-shadow: var(--shadow-card);
  margin-bottom: 32px;
  position: relative;
}

.exam-info-strip::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent 0%, var(--gold) 30%, var(--gold-lt) 50%, var(--gold) 70%, transparent 100%);
}

.exam-info-cell {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 22px 28px;
  position: relative;
  transition: var(--transition);
}

.exam-info-cell:not(:last-child)::after {
  content: '';
  position: absolute;
  right: 0; top: 20%; bottom: 20%;
  width: 1px;
  background: linear-gradient(180deg, transparent, var(--border) 40%, var(--border) 60%, transparent);
}

.exam-info-cell:hover {
  background: var(--gold-glow);
}

.exam-cell-label {
  font-family: 'Syne', sans-serif;
  font-size: 0.6rem;
  font-weight: 700;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 7px;
  display: flex;
  align-items: center;
  gap: 5px;
}

.exam-cell-label::before,
.exam-cell-label::after {
  content: '';
  display: inline-block;
  width: 16px; height: 1px;
  background: var(--gold);
  opacity: 0.5;
}

.exam-cell-value {
 font-family: 'DM Sans', sans-serif;         
  font-weight: 600;
  font-size: 1.15rem;
  color: var(--ink);
  letter-spacing: 0.02em;
}

/* ═══════════════════════════════════════════════
   MAIN CONTAINER LAYOUT
═══════════════════════════════════════════════ */
.dashboard-grid {
  display: grid;
  grid-template-columns: 1fr 340px;
  gap: 24px;
  align-items: start;
}

@media (max-width: 991px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
}

/* ═══════════════════════════════════════════════
   USER CARD — MAIN INFO PANEL
═══════════════════════════════════════════════ */
#userCard {
  background: var(--surface);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-card);
  overflow: hidden;
  position: relative;
}

/* Thin gold top bar - removed */

.user-card {
  position: relative;
  z-index: 1;
}

/* ── HEADER ── */
.user-card-header {
  padding: 36px 36px 28px;
  border-bottom: 1px solid var(--border);
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 20px;
}

.user-card-header-monogram {
  width: 64px; height: 64px;
  border-radius: 18px;
  border: 1px solid #f59e0b;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
  box-shadow: 0 8px 24px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.08);
  position: relative;
  overflow: hidden;
}

.user-card-header-monogram::after {
  content: '';
  position: absolute; inset: 0;
}

.monogram-initials {
  font-family: 'Syne', sans-serif;                                        
  font-weight: 700;
  font-size: 1.5rem;
  color: var(--ink);
  letter-spacing: 0.05em;
  position: relative; z-index: 1;
}

.user-card-header-info {
  flex: 1;
  min-width: 0;
}

.user-name {
  font-family: 'DM Sans', sans-serif;
  font-weight: 700;
  font-size: 1.35rem;
  color: var(--ink);
  letter-spacing: -0.01em;
  margin-bottom: 4px;
  line-height: 1.2;
}

.user-role {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.78rem;
  font-weight: 400;
  color: var(--ink-40);
  letter-spacing: 0.08em;
  text-transform: uppercase;
  margin-bottom: 10px;
}

.status-pill {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.65rem;
  font-weight: 600;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  padding: 4px 12px;
  border-radius: 999px;
  color: #fff;
}

.status-pill::before {
  content: '';
  width: 5px; height: 5px;
  border-radius: 50%;
  background: rgba(255,255,255,0.7);
  display: inline-block;
  animation: pulseStatus 2s ease-in-out infinite;
}

@keyframes pulseStatus {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; box-shadow: 0 0 6px rgba(255,255,255,0.8); }
}

.status-pill.bg-success { background: linear-gradient(135deg, #059669, #10b981); box-shadow: 0 2px 10px rgba(16,185,129,0.3); }
.status-pill.bg-warning { background: linear-gradient(135deg, #d97706, #f59e0b); box-shadow: 0 2px 10px rgba(245,158,11,0.3); }

/* ── HEADER META STRIP ── */
.user-card-meta {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-top: 4px;
}

.meta-tag {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.7rem;
  color: var(--ink-40);
  display: flex;
  align-items: center;
  gap: 4px;
}

.meta-tag i { font-size: 0.85rem; }

/* ── BODY ── */
.user-card-body {
  padding: 8px 36px 36px;
}

.info-section-title {
  font-family: 'Syne', sans-serif;
  font-size: 0.6rem;
  font-weight: 700;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: var(--gold);
  margin: 28px 0 16px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.info-section-title::after {
  content: '';
  flex: 1;
  height: 1px;
  background: linear-gradient(90deg, var(--gold-dim), transparent);
}

/* ── INFO ROWS ── */
.info-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0;
}

@media (max-width: 576px) {
  .info-grid-2col { grid-template-columns: 1fr; }
}

.info-row {
  display: flex;
  flex-direction: column;
  padding: 14px 0;
  position: relative;
  transition: var(--transition);
}



/* Every other row in grid gets a right separator */
.info-grid-2col .info-row:nth-child(odd) {
  padding-right: 32px;
}
.info-grid-2col .info-row:nth-child(even) {
  padding-left: 32px;
}

/* Remove bottom border from last two in grid */
.info-grid-2col .info-row:nth-last-child(-n+2) {
  border-bottom: none;
}

.info-row:hover::before {
  content: '';
  position: absolute;
  left: -36px; right: -36px; top: 0; bottom: 0;
  background: var(--gold-glow);
  pointer-events: none;
  z-index: -1;
}

.info-label {
  font-family: 'Syne', sans-serif;     
  font-size: 0.62rem;
  font-weight: 600;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--ink-40);
  margin-bottom: 4px;
}

.info-value {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.95rem;
  font-weight: 500;
  color: var(--ink);
  letter-spacing: -0.01em;
}


.permit-badge i { font-size: 0.9rem; }

/* ═══════════════════════════════════════════════
   PROFILE CARD — RIGHT COLUMN
═══════════════════════════════════════════════ */
.profile-card {
  position: relative;
  width: 100%;
  background: var(--surface);
  border-radius: var(--radius-xl);
  overflow: hidden;
  border: 1px solid var(--border);
  box-shadow: var(--shadow-card);
  animation: cardReveal 0.8s cubic-bezier(0.22, 1, 0.36, 1) both;
  padding: 0;
  text-align: center;
}

@keyframes cardReveal {
  from { opacity: 0; transform: translateY(24px) scale(0.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* Gold top rule */
.profile-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold) 30%, var(--gold-lt) 50%, var(--gold) 70%, transparent);
  z-index: 3;
}

.card-bg-graphics {
  position: absolute; inset: 0; pointer-events: none; z-index: 0;
}

.orb-tr {
  position: absolute; top: -80px; right: -80px;
  width: 240px; height: 240px;
  background: radial-gradient(circle, rgba(184,154,90,0.07) 0%, transparent 70%);
  border-radius: 50%;
}

.orb-bl {
  position: absolute; bottom: -60px; left: -60px;
  width: 200px; height: 200px;
  background: radial-gradient(circle, rgba(37,99,235,0.05) 0%, transparent 70%);
  border-radius: 50%;
}

.grid-lines {
  position: absolute; inset: 0;
  background-image:
    linear-gradient(var(--ink-06) 1px, transparent 1px),
    linear-gradient(90deg, var(--ink-06) 1px, transparent 1px);
  background-size: 36px 36px;
}

.diag-rule { display: none; }

/* Corner accents */
.corner-tl, .corner-tr, .corner-bl, .corner-br, .footer-rule {
  position: absolute; z-index: 2; pointer-events: none;
}
.corner-tl { top: 18px; left: 18px; width: 18px; height: 18px; border-top: 1.5px solid var(--gold); border-left: 1.5px solid var(--gold); border-radius: 4px 0 0 0; }
.corner-tr { top: 18px; right: 18px; width: 18px; height: 18px; border-top: 1.5px solid var(--gold); border-right: 1.5px solid var(--gold); border-radius: 0 4px 0 0; }
.corner-bl { bottom: 18px; left: 18px; width: 18px; height: 18px; border-bottom: 1.5px solid var(--gold); border-left: 1.5px solid var(--gold); border-radius: 0 0 0 4px; }
.corner-br { bottom: 18px; right: 18px; width: 18px; height: 18px; border-bottom: 1.5px solid var(--gold); border-right: 1.5px solid var(--gold); border-radius: 0 0 4px 0; }
.footer-rule {
  bottom: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, rgba(184,154,90,0.3) 30%, rgba(184,154,90,0.5) 50%, rgba(184,154,90,0.3) 70%, transparent);
}

.card-content {
  position: relative; z-index: 1;
  display: flex; flex-direction: column; align-items: center;
  padding: 28px 24px 24px;
}

/* Portal badge */
.portal-badge {
  display: inline-flex; align-items: center; gap: 7px;
  background: linear-gradient(135deg, var(--gold) 0%, #f59e0b 100%);
  border: 1px solid rgba(184,154,90,0.3);
  border-radius: 999px;
  padding: 5px 14px;
  margin-bottom: 16px;
  animation: fadeDown 0.6s 0.15s both;
}

@keyframes fadeDown {
  from { opacity: 0; transform: translateY(-8px); }
  to   { opacity: 1; transform: translateY(0); }
}

.badge-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: var(--gold-lt); box-shadow: 0 0 8px var(--gold);
  animation: pulseDot 2.4s ease-in-out infinite;
}

@keyframes pulseDot {
  0%, 100% { box-shadow: 0 0 6px var(--gold); }
  50%       { box-shadow: 0 0 14px var(--gold-lt); }
}

.badge-label {
  font-family: 'Syne', sans-serif;
  font-size: 0.58rem; font-weight: 700;
  letter-spacing: 0.2em; text-transform: uppercase; color: white;
}

/* Profile title */
.profile-title {
  font-family: 'DM Sans', sans-serif;       
  font-size: 1.7rem !important;
  font-weight: 700 !important;
  color: var(--ink) !important;
  letter-spacing: 0.01em;
  margin-bottom: 2px;
  animation: fadeUp 0.6s 0.2s both;
}
.profile-title.text-primary { color: var(--ink) !important; }

/* Gold divider */
.gold-divider {
  width: 100%; display: flex; align-items: center; gap: 8px;
  margin: 10px 0 14px;
  animation: fadeUp 0.6s 0.25s both;
}
.gold-divider-line {
  flex: 1; height: 1px;
  background: linear-gradient(90deg, transparent, var(--gold-dim), transparent);
}
.gold-divider-diamond {
  width: 5px; height: 5px; background: var(--gold);
  transform: rotate(45deg); flex-shrink: 0;
}

/* Profile subtitle */
.profile-subtitle {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.72rem;
  color: var(--ink-80);
  text-align: justify;
  line-height: 1.65; font-weight: 400; letter-spacing: 0.01em;
  background: linear-gradient(135deg, rgba(184,154,90,0.06), rgba(184,154,90,0.03));
  border: 1px solid rgba(184,154,90,0.2);
  border-radius: var(--radius-md);
  padding: 12px 14px; width: 100%;
  animation: fadeUp 0.6s 0.3s both;
}
.profile-subtitle::before {
  content: "ⓘ "; color: var(--gold); font-weight: 900 !important;
}

/* Spinning ring */
.spinning-ring-wrap {
  position: relative;
  display: inline-flex; align-items: center; justify-content: center;
  margin-top: 20px;
}
.spinning-ring-wrap::before {
  content: '';
  position: absolute; inset: -8px; border-radius: 50%;
  border: 1.5px dashed rgba(184,154,90,0.4);
  animation: spinRing 12s linear infinite;
  pointer-events: none;
}
.spinning-ring-wrap::after {
  content: '';
  position: absolute; inset: -3px; border-radius: 50%;
  border: 1px solid rgba(184,154,90,0.15);
  pointer-events: none;
}
@keyframes spinRing { to { transform: rotate(360deg); } }

/* Image preview */
.image-preview-container {
  width: 130px; height: 130px; border-radius: 50%;
  background: linear-gradient(135deg, var(--surface-2), #e9ecef);
  border: 2px solid rgba(184,154,90,0.35);
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
  box-shadow:
    0 0 0 4px var(--gold-glow),
    inset 0 0 20px rgba(0,0,0,0.05),
    0 8px 24px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  position: relative;
}
.image-preview-container:hover {
  transform: translateY(-3px);
  box-shadow:
    0 0 0 4px var(--gold-dim),
    0 12px 32px rgba(0,0,0,0.15);
  border-color: var(--gold);
}
#imagePreview {
  width: 100%; height: 100%; object-fit: cover; border-radius: 50%;
}
.upload-placeholder {
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  padding: 20px;
}
.upload-placeholder i {
  font-size: 36px !important; color: var(--gold) !important; opacity: 0.5;
}
.upload-placeholder p {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.63rem; letter-spacing: 0.1em; text-transform: uppercase;
  font-weight: 500; color: var(--ink-40); margin-top: 6px !important;
}

.photo-sublabel {
  margin-top: 14px !important;
  font-family: 'Syne', sans-serif;
  font-size: 0.6rem; letter-spacing: 0.18em; text-transform: uppercase;
  color: var(--ink-40); font-weight: 600;
}

.profile-text {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.72rem; color: var(--ink-40);
  letter-spacing: 0.04em; min-height: 1em;
  animation: fadeUp 0.6s 0.45s both;
  margin-top: 20px;
}

/* View Permit button */
#permitLink {
  display: block; width: 100%; text-decoration: none;
  margin-top: 18px;
}

#btnViewPermit {
  width: 100%; border-radius: var(--radius-md); padding: 11px 0;
  font-family: 'Syne', sans-serif;
  font-size: 0.72rem; font-weight: 700;
  letter-spacing: 0.16em; text-transform: uppercase;
  overflow: hidden; transition: all 0.3s ease;
  display: flex; align-items: center; justify-content: center; gap: 8px;
  animation: fadeUp 0.6s 0.5s both;
  position: relative;
}

#btnViewPermit::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(135deg, rgba(255,255,255,0.08) 0%, transparent 60%);
  pointer-events: none;
}

#btnViewPermit:disabled {
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--ink-40);
  cursor: not-allowed; box-shadow: none;
}
#btnViewPermit:not(:disabled) {
  background: linear-gradient(135deg, var(--gold) 0%, #f59e0b 100%);
  background-size: 200% 200%;
  color: white; border: 1px solid rgba(255,255,255,0.3);
  cursor: pointer;
  box-shadow: 0 6px 20px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.15);
  animation: fadeUp 0.6s 0.5s both, shimmerBg 4s ease infinite;
}
@keyframes shimmerBg {
  0%, 100% { background-position: 0% 50%; }
  50%       { background-position: 100% 50%; }
}
#btnViewPermit:not(:disabled):hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 28px rgba(0,0,0,0.3), 0 0 20px rgba(184,154,90,0.15);
  border-color: rgba(184,154,90,0.5);
}
#btnViewPermit:not(:disabled):active { transform: translateY(1px); }

/* Lock hint */
.lock-hint {
  margin-top: 8px;
  display: flex; align-items: center; justify-content: center; gap: 5px;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.6rem; color: var(--ink-40);
  letter-spacing: 0.1em; text-transform: uppercase;
  animation: fadeUp 0.6s 0.55s both;
}

/* Settings link */
.settings-link {
  margin-top: 18px;
  display: inline-flex; align-items: center; gap: 5px;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.65rem; color: var(--blue); text-decoration: none;
  font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase;
  opacity: 0.55; transition: opacity 0.2s;
  animation: fadeUp 0.6s 0.6s both;
}
.settings-link:hover { opacity: 1; }

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ═══════════════════════════════════════════════
   FAQ SECTION
═══════════════════════════════════════════════ */
#faq {
  background: var(--surface);
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-card);
  padding: 32px 36px;
  position: relative;
  overflow: hidden;
  margin-top: 24px;
}

#faq::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: linear-gradient(90deg, transparent, var(--gold) 30%, var(--gold-lt) 50%, var(--gold) 70%, transparent);
}

.faq-heading {
  font-family: 'Syne', sans-serif;
  font-weight: 700; font-size: 1.1rem;
  color: var(--ink); margin-bottom: 4px;
  letter-spacing: -0.01em;
}

.faq-subheading {
  font-family: 'DM Sans', sans-serif;
  font-size: 0.82rem; color: var(--ink-40);
  margin-bottom: 24px;
}

.faq-ui { border-top: 1px solid var(--border); }

.faq-row { border-bottom: 1px solid var(--border); }

.faq-toggle {
  width: 100%; background: none; border: none;
  padding: 18px 0;
  display: flex; justify-content: space-between; align-items: center;
  cursor: pointer; transition: var(--transition);
}
.faq-toggle:hover { padding-left: 4px; }

.faq-left {
  display: flex; align-items: center; gap: 14px;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.92rem; font-weight: 500; color: var(--ink);
  text-align: left;
}

.faq-icon {
  width: 34px; height: 34px; border-radius: var(--radius-sm);
  border: 1px solid var(--border);
  background: var(--surface-2);
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0;
  transition: var(--transition);
}
.faq-row.active .faq-icon {
  background: var(--ink); border-color: var(--ink);
  color: var(--gold-lt);
}

.faq-chevron {
  font-size: 1.3rem; color: var(--ink-40);
  transition: transform 0.3s ease;
}
.faq-row.active .faq-chevron { transform: rotate(180deg); color: var(--ink); }

.faq-content-wrapper { max-height: 0; overflow: hidden; transition: max-height 0.35s ease; }
.faq-content-wrapper.open { max-height: 300px; }

.faq-content {
  padding: 0 0 18px 48px;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.88rem; color: var(--ink-80); line-height: 1.65;
}

/* ═══════════════════════════════════════════════
   EXAM INFO BAR — legacy IDs kept
═══════════════════════════════════════════════ */
/* IDs #registration-date, #examination-date, #examination-venue still work inside .exam-cell-value */

/* ═══════════════════════════════════════════════
   MOBILE
═══════════════════════════════════════════════ */
@media (max-width: 768px) {
  .exam-info-strip { flex-direction: column; }
  .exam-info-cell:not(:last-child)::after { display: none; }
  .user-card-header { padding: 24px; }
  .user-card-body { padding: 8px 24px 24px; }
  .info-grid-2col { grid-template-columns: 1fr; }
  .info-grid-2col .info-row:nth-child(odd) { padding-right: 0; border-right: none; }
  .info-grid-2col .info-row:nth-child(even) { padding-left: 0; }
  .info-grid-2col .info-row:nth-last-child(-n+2) { border-bottom: 1px solid var(--border); }
  .info-grid-2col .info-row:last-child { border-bottom: none; }
  #faq { padding: 24px 20px; }
}

/* Content box fallback */
.content-box {
  background: var(--surface);
  border-radius: var(--radius-xl);
  padding: 32px 36px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow-card);
}
</style>
</head>

<body>

<!-- Sidebar Section -->
<section id="sidebar">
  <a href="#" class="brand" style="display: flex; align-items: center;">
    <img src="../imgs/PSI.png" alt="PSILogo" class="logo">
    <span class="text">PSI-PMMA Portal</span>
  </a>
  <ul class="side-menu top">
    <li class="active">
      <a href="dashboard.html">
        <i class="bx bxs-dashboard"></i>
        <span class="text">Dashboard</span>
      </a>
    </li>
    <li>
      <a href="accountsettings.html">
        <i class="bx bx-cog ms-1"></i>
        <span class="text">Account Settings</span>
      </a>
    </li>
  </ul>
  <ul class="side-menu">
    <li>
      <a href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
        <i class="bx bxs-log-out-circle"></i>
        <span class="text">Logout</span>
      </a>
    </li>
  </ul>
</section>

<section id="content">
  <main class="container-fluid p-4">

    <!-- ══════════════════════════════════
         EXAM INFO HEADER  (IDs preserved)
    ══════════════════════════════════ -->
    <div class="row mb-4">
      <div class="col-12">
        <div class="exam-info-strip">

          <div class="exam-info-cell">
            <div class="exam-cell-label">Date of Registration</div>
            <div class="exam-cell-value fw-bold" id="registration-date">—</div>
          </div>

          <div class="exam-info-cell">
            <div class="exam-cell-label">Date of Examination</div>
            <div class="exam-cell-value fw-bold" id="examination-date">—</div>
          </div>

          <div class="exam-info-cell">
            <div class="exam-cell-label">Examination Venue</div>
            <div class="exam-cell-value fw-bold" id="examination-venue">—</div>
          </div>

        </div>
      </div>
    </div>

    <!-- ══════════════════════════════════
         USER INFO CONTAINER
    ══════════════════════════════════ -->
    <div class="container">
      <div class="dashboard-grid">

        <!-- LEFT: User Card (ID preserved) -->
        <div id="userCard">
          <!-- JS (get_user.js) injects .user-card here -->
        </div>

        <!-- RIGHT: Profile Card -->
        <div>
          <div class="profile-card">
            <!-- Corner accents (classes preserved) -->
            <div class="corner-tl"></div>
            <div class="corner-tr"></div>
            <div class="corner-bl"></div>
            <div class="corner-br"></div>
            <div class="footer-rule"></div>

            <!-- Content (IDs preserved) -->
            <div class="card-content">

              <div class="portal-badge">
                <div class="badge-dot"></div>
                <span class="badge-label">Student Portal</span>
              </div>

              <h5 class="profile-title fw-bold text-primary">User Profile</h5>

              <div class="gold-divider">
                <div class="gold-divider-line"></div>
                <div class="gold-divider-diamond"></div>
                <div class="gold-divider-line"></div>
              </div>

              <p class="profile-subtitle">
                Uploading a photo is required to access your Test Permit.
                You can upload your photo in the <strong>Account Settings</strong> section.
              </p>

              <div style="display:flex; flex-direction:column; align-items:center;">

                <div class="spinning-ring-wrap">
                  <!-- IDs preserved -->
                  <div id="imagePreviewContainer" class="image-preview-container">
                    <img id="imagePreview" src="../imgs/avatar.png" alt="Profile Preview" class="img-fluid" style="display: none;" />
                    <div id="uploadPlaceholder" class="upload-placeholder">
                      <i class="bx bx-image" style="font-size: 48px;"></i>
                      <p class="mt-2">No photo uploaded</p>
                    </div>
                  </div>
                </div>

                <span class="photo-sublabel">Official Photo</span>
              </div>

              <!-- ID preserved -->
              <p class="profile-text" id="imageText" style="margin-top: 20px;"> </p>

              <!-- ID & href preserved -->
              <a href="testpermit.html" id="permitLink">
                <button id="btnViewPermit" class="btn-view-permit" disabled>
                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="flex-shrink:0;">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                    <polyline points="14 2 14 8 20 8"/>
                  </svg>
                  View Test Permit
                </button>
              </a>

              <!-- ID preserved -->
              <div class="lock-hint" id="lockHint">
                <svg width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="3" y="11" width="18" height="11" rx="2"/>
                  <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                </svg>
                Locked until photo is uploaded
              </div>

              <a href="accountsettings.html" class="settings-link">
                <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="3"/>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
                Account Settings
              </a>

            </div>
          </div><!-- /profile-card -->
        </div><!-- /right col -->

      </div><!-- /dashboard-grid -->

      <!-- FAQ (ID preserved) -->
      <div id="faq" class="content-box">
        <h4 class="faq-heading">Frequently asked questions</h4>
        <p class="faq-subheading">Common questions about the examination process.</p>
        <div class="faq-ui" id="faqContainer">
          <!-- FAQs injected by get_faq.js -->
        </div>
      </div>

    </div><!-- /container -->
  </main>

  <!-- Logout Modal (unchanged) -->
  <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered logout-modal">
      <div class="modal-content border-0 rounded-4 shadow">
        <div class="modal-header bg-light border-0 rounded-top-4 px-4 py-3">
          <h5 class="modal-title fw-bold mb-0" id="logoutModalLabel">Confirm Logout</h5>
          <button type="button" class="btn-close no-focus" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="px-4"><hr class="my-0"></div>
        <div class="modal-body px-4 py-4 text-center">
          <i class="bx bx-log-out-circle fs-1 text-muted mb-3"></i>
          <p class="mb-0 text-muted">Are you sure you want to log out of your account?</p>
        </div>
        <div class="modal-footer border-0 px-4 pb-4 pt-2 justify-content-center">
          <button type="button" class="btn btn-outline-secondary rounded-pill px-4" data-bs-dismiss="modal">Cancel</button>
          <a href="../php/logout.php" class="btn btn-danger rounded-pill px-4">Logout</a>
        </div>
      </div>
    </div>
  </div>

</section>

<!-- Permit link sync (unchanged logic) -->
<script>
  const btn      = document.getElementById('btnViewPermit');
  const link     = document.getElementById('permitLink');
  const lockHint = document.getElementById('lockHint');

  function syncLink() {
    const isDisabled = btn.disabled;
    link.style.pointerEvents = isDisabled ? 'none' : 'auto';
    lockHint.style.display   = isDisabled ? 'flex'  : 'none';
  }

  const observer = new MutationObserver(syncLink);
  observer.observe(btn, { attributes: true, attributeFilter: ['disabled'] });
  syncLink();
</script>

<script src="js/get_user.js"></script>
<script src="js/get_faq.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
(function() {
  fetch('php/check_session.php', { method: 'GET', credentials: 'same-origin' })
    .then(r => r.json())
    .then(data => { if (!data.authenticated) window.location.href = '../login.html'; })
    .catch(() => { window.location.href = '../login.html'; });
})();
</script>

</body>
</html>
