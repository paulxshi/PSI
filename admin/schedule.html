    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="../imgs/PSI.png">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

        <link rel="stylesheet" href="../css/dashstyle.css">

        <title>Dashboard</title>
    </head>

    <style>
/* Main content background */
#content main {
    background: linear-gradient(
        180deg,
        #f8fafc 0%,
        #eef2f7 100%
    );
    min-height: 100vh;
}

/* Page header container */
.page-header {
    background: #ffffff;
    border-radius: 10px;
    padding: 15px 24px;
    border-bottom: 6px solid #7b1b00;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.04);
    max-width: fit-content;
}

    .exam-info {
    border-bottom: 1px solid #e5e7eb;
    padding-bottom: 12px;
    }
    .exam-info small {
    font-size: 0.7rem;
    letter-spacing: 0.08em;
    }
    .exam-value {
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        font-size: 1.1rem;
        letter-spacing: 0.5px;
        color: #111827;
    }

    </style>

    <body>

        <!-- Sidebar Section -->
            <section id="sidebar">
            <a href="#" class="brand" style="display: flex; align-items: center;">
                <img src="../imgs/PSI.png" alt="RHULogo" class="logo">
                <span class="text">PSI-ADMIN Portal</span>
            </a>
            <ul class="side-menu top">
                <li>
                    <a href="dashboard.html">
                        <i class="bx bxs-dashboard"></i>
                        <span class="text">Dashboard</span>
                    </a>
                </li>

                <li class="active">
                    <a href="schedule.html">
                        <i class="bx bx-calendar-check" /></i>
                        <span class="text">Schedule</span>
                    </a>
                </li>
            </ul>

            <ul class="side-menu">
            <li>
            <a href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
                <i class="bx bxs-log-out-circle"></i>
                <span class="text">Logout</span>
            </a>
            </li>


        </ul>
            
        </section>

        <section id="content">
            <nav>
                    <div class="greeting">
                    <span>Admin</span>
                </div>
            </nav>

        <main class="p-4">

        <!-- Page Header -->
            <div class="page-header mb-4">
                <h3 class="fw-bold mb-2 d-flex align-items-center gap-2">
                    Examination Schedule Management
                </h3>

                <p class="text-muted mb-0" style="max-width: 720px;">
                    Use this module to configure and publish official examination schedules.
                    Ensure all details are accurate before publishing, as these records
                    will be made available to applicants and examination staff.
                </p>
            </div>


        <div class="row g-4">

            <!-- Create Schedule Form -->
            <div class="col-lg-7">
            <div class="card border-0 shadow-sm rounded-4">
                <div class="card-body p-4">

                <h6 class="fw-semibold mb-3">Schedule Details</h6>

                <form method="POST" action="php/save_schedule.php">

<div class="mb-4">
    <label class="form-label fw-medium mb-2">Exam Location</label>

    <!-- Region Dropdown -->
    <select class="form-select mb-3" name="exam_region" id="exam_region" required>
        <option value="">Select Region</option>
        <option value="Luzon">Luzon</option>
        <option value="Visayas">Visayas</option>
        <option value="Mindanao">Mindanao</option>
    </select>

    <!-- Venue Input -->
    <input
        type="text"
        class="form-control"
        placeholder="Please enter Examination venue"
        name="exam_area"
        id="exam_area"
        required
    >
</div>


                    <!-- Date Row -->
                    <div class="row g-3 mb-3">
                    <div class="col-md-6">
                        <label class="form-label fw-medium">Exam Month</label>
                        <select class="form-select" name="exam_month" required>
                        <option value="">Select Month</option>
                        <option>January</option>
                        <option>February</option>
                        <option>March</option>
                        <option>April</option>
                        <option>May</option>
                        <option>June</option>
                        <option>July</option>
                        <option>August</option>
                        <option>September</option>
                        <option>October</option>
                        <option>November</option>
                        <option>December</option>
                        </select>
                    </div>

                    <div class="col-md-3">
                        <label class="form-label fw-medium">Day</label>
                        <input
                        type="number"
                        class="form-control"
                        placeholder="12"
                        min="1"
                        max="31"
                        name="exam_day"
                        required
                        >
                    </div>

                    <div class="col-md-3">
                        <label class="form-label fw-medium">Year</label>
                        <input
                        type="number"
                        class="form-control"
                        placeholder="2026"
                        min="2025"
                        name="exam_year"
                        required
                        >
                    </div>
                    </div>

                    <!-- Number of Examinees -->
                    <div class="mb-4">
                        <label class="form-label fw-medium">Number of Examinees</label>
                        <input
                            type="number"
                            class="form-control"
                            name="exam_limit"
                            min="1"
                            placeholder="e.g. 150"
                            required
                        >
                        <div class="form-text">
                            Maximum number of examinees allowed for this schedule.
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="d-flex justify-content-end gap-2">
                    <button type="reset" class="btn btn-light">
                        Clear
                    </button>
                  <button type="button" class="btn btn-dark" id="createSchedBtn">
                           Create Schedule
                  </button>

                    </div>

                </form>

                </div>
            </div>
            </div>

            <!-- Preview / Summary -->
            <div class="col-lg-5">
            <div class="card border-0 shadow-sm rounded-4 h-100">
            <div class="card-body p-4">

                <h6 class="fw-semibold mb-3">Schedule Preview</h6>

                <div class="border rounded-3 p-3 mb-3">
                    <small class="text-muted text-uppercase d-block mb-1">Region</small>
                    <div class="fw-semibold" id="previewRegion">—</div>
                </div>

                <div class="border rounded-3 p-3 mb-3">
                    <small class="text-muted text-uppercase d-block mb-1">Venue</small>
                    <div class="fw-semibold" id="previewVenue">—</div>
                </div>

                <div class="border rounded-3 p-3 mb-3">
                    <small class="text-muted text-uppercase d-block mb-1">Exam Date</small>
                    <div class="fw-semibold" id="previewDate">—</div>
                </div>

                <div class="border rounded-3 p-3">
                    <small class="text-muted text-uppercase d-block mb-1">Number of Examinees</small>
                    <div class="fw-semibold text-danger" id="previewLimit">—</div>
                </div>

                <div class="alert alert-light border mt-4 small mb-3">
                    This preview shows how the schedule will appear once published.
                </div>

                <div class="d-grid">
                    <button class="btn btn-success fw-medium" id="publishBtn" disabled>
                        Publish Schedule
                    </button>
                </div>

            </div>


            </div>
            </div>

        </div>

        </main>



        <!-- Confirmation Modal -->
<div class="modal fade" id="confirmScheduleModal" tabindex="-1" aria-labelledby="confirmScheduleLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      
      <div class="modal-header">
        <h5 class="modal-title" id="confirmScheduleLabel">Confirm Schedule Creation</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      
      <div class="modal-body">
        Are you sure you want to create this schedule?
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Cancel
        </button>
        <button type="submit" class="btn btn-dark" id="confirmCreateBtn">
          Yes, Create
        </button>
      </div>
      
    </div>
  </div>
</div>


        <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="logoutModalLabel">Confirm Logout</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Are you sure you want to log out?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <a href="../php/logout.php" class="btn btn-danger">Logout</a>
                </div>
                </div>
            </div>
        </div>



<script>
document.addEventListener("DOMContentLoaded", function () {

    const regionSelect = document.getElementById("exam_region");
    const venueInput = document.getElementById("exam_area");

    fetch("php/get_venues.php")
        .then(res => res.json())
        .then(data => {

            data.forEach(venue => {

                const option = document.createElement("option");

                // Display format
                option.textContent = `${venue.region}, ${venue.venue_name}`;

                // Store both values internally
                option.value = `${venue.region}|${venue.venue_name}`;

                regionSelect.appendChild(option);
            });

        });

    // When user selects something
    regionSelect.addEventListener("change", function () {

        if (this.value.includes("|")) {

            const [region, venue] = this.value.split("|");

            // Set region dropdown to only region
            this.value = region;

            // Autofill venue
            venueInput.value = venue;
        }

    });

});

</script>


<script src="js/schedule.js"></script>

    </body>
    </html>
