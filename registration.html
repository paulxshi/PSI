<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PMMA Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="icon" href="imgs/PSI.png">
  <!-- Flatpickr CSS -->
  <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">

  <style>
  :root {
  --primary: #ef8809;
}

.form-control:disabled,
.form-select:disabled {
  background-color: #f8f9fa;
  opacity: 1;
  cursor: not-allowed;
}

.step {
  cursor: pointer;
}
.stepper {
  gap: 0.5rem;
}

.form-control:focus,
.form-select:focus {
  border-color: #000;
  box-shadow: none;
}

.input-group .form-control:focus {
  border-color: #000;
  box-shadow: none;
}

.form-control,
.form-select {
  transition: border-color 0.2s ease;
}

.step {
  text-align: center;
  flex: 1;
  color: #6c757d;
  font-weight: 600;
  font-size: 0.8rem;
  transition: all 0.3s ease;
}

.step-circle {
  width: 42px;
  height: 42px;
  border-radius: 50%;
  border: 2px solid #ced4da;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 6px;
  font-size: 1.2rem;
  background: #fff;
  transition: all 0.3s ease;
}

.step-line {
  flex: 1;
  height: 2px;
  background: #dee2e6;
  margin-top: 20px;
}

.step.active {
  color: #000;
}

.step.active .step-circle {
  border-color: var(--primary);
  background: var(--primary);
  color: #ffffff;
  box-shadow: 0 6px 18px rgba(247, 222, 34, 0.45);
}

.step.completed {
  color: #198754;
}

.step.completed .step-circle {
  background: #198754;
  border-color: #198754;
  color: #fff;
}

.btn-primary {
  background-color: var(--primary);
  border-color: var(--primary);
  color: #000;
  font-weight: 600;
}

.btn-primary:hover {
  background-color:#b56401;
  border-color: #b56401;
  color: #ffffff;
}

.overflow-auto::-webkit-scrollbar {
    display: none;
 } 

.otp-verified-badge {
      background-color: #198754;
      color: white;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.75rem;
      margin-left: 8px;
    }

    .flatpickr-calendar {
      background: white;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
  </style>

</head>

<body
  class="min-vh-100 d-flex align-items-center justify-content-center"
  style="background: url('imgs/bg.jpg') center center / cover no-repeat fixed;"
>

<div
  class="position-fixed top-0 start-0 w-100 h-100"
  style="backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); z-index: 0;">
</div>

<div class="container position-relative" style="z-index: 1;">
  <div class="row justify-content-center">
    <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-9">

      <div class="card shadow-lg border-0 rounded-4 bg-white bg-opacity-75">
        <div class="card-body p-4">

        <div class="d-flex justify-content-center align-items-center mb-4">
          <img src="imgs/PSI.png" class="img-fluid" style="max-width:80px;">
          <div class="mx-3" style="width:1px; height:40px; background-color:#8f8f8f;"></div>
          <img src="imgs/PMMA.png" class="img-fluid" style="max-width:80px;">
        </div>


        <!-- MODERN STEPPER CARD -->
        <div class="card border-0 shadow-sm rounded-4 mb-4">
          <div class="card-body px-4 py-3">

            <div class="d-flex justify-content-between align-items-center stepper">

                    <!-- Step 1 -->
                    <div class="step active" id="step-reminders" onclick="goToStep(1)">
                      <div class="step-circle">
                        <i class="bi bi-exclamation-circle"></i>
                      </div>
                      <span>Reminders</span>
                    </div>

                    <div class="step-line"></div>

                    <!-- Step 2 -->
                    <div class="step" id="step-personal-info" onclick="goToStep(2)">
                      <div class="step-circle">
                        <i class="bi bi-person-lines-fill"></i>
                      </div>
                      <span>Information</span>
                    </div>

                    <div class="step-line"></div>

                    <!-- Step 3 -->
                    <div class="step" id="step-reminders" onclick="goToStep(3)">
                      <div class="step-circle">
                        <i class="bi bi-calendar-check"></i>
                      </div>
                      <span>Examination Schedule</span>
                    </div>

                    <div class="step-line"></div>

                    <!-- Step 4 -->
                    <div class="step" id="step-reminders" onclick="goToStep(4)">
                      <div class="step-circle">
                        <i class="bi bi-credit-card"></i>
                      </div>
                      <span>Payment</span>
                    </div>

                    <div class="step-line"></div>

                    <!-- Step 5 -->
                    <div class="step" id="step-finish" onclick="goToStep(5)">
                      <div class="step-circle">
                        <i class="bi bi-check-circle"></i>
                      </div>
                      <span>Finish</span>
                    </div>

                  </div>
                </div>
              </div>

            <!-- REMINDERS CARD -->
            <div id="reminderCard" class="card border-0 shadow-sm rounded-4 mb-4">
              <div class="card-body p-4">

                <div class="d-flex align-items-center mb-3">
                  <i class="bi bi-shield-lock-fill text-primary fs-4 me-2"></i>
                  <h6 class="mb-0 fw-semibold">Data Privacy Notice</h6>
                </div>

                <p class="text-muted small mb-3" style="line-height:1.7;">
                  In compliance with <strong>Republic Act No. 10173</strong>, also known as the
                  <strong>Data Privacy Act of 2012</strong>, the Philippine Maritime Maritime Academy
                  (PMMA), in partnership with PSI Systems and Innovation, OPC, is committed to protecting
                  your personal data.
                </p>

                <p class="text-muted small mb-4" style="line-height:1.7;">
                  This registration form will collect personal information such as your name,
                  contact details, date of birth, and other relevant information strictly for
                  identification, appointment processing, and official documentation purposes.
                  All data collected will be handled with utmost confidentiality and will not be
                  disclosed without proper authorization.
                </p>

                <div class="d-flex justify-content-end">
                  <button class="btn btn-primary px-4 rounded-pill" onclick="goToPersonalInfo()">
                    Proceed
                    <i class="bi bi-arrow-right ms-1"></i>
                  </button>
                </div>
              </div>
            </div>

            <div id="loginPrompt" class="text-center">
              <span class="text-muted">Already have an account?</span>
              <a href="login.html" class="fw-semibold text-decoration-none ms-1">Login</a>
            </div>


          <!-- REGISTER FORM -->
          <form id="registrationForm" class="overflow-auto" style="max-height: 65vh;" method="POST" novalidate>
          <div id="personalInfoCard" class="card border-0 shadow-sm rounded-4 mb-4 d-none">
    <div class="card-body p-4">

      <h6 class="fw-semibold mb-4">
        <i class="bi bi-person-lines-fill me-2 text-primary"></i>
        Personal Information
      </h6>

      <!-- ROW 1: LAST / FIRST / MIDDLE -->
      <div class="row g-3 mb-3">
        <div class="col-md-4">
          <label class="form-label fw-semibold">Last Name <span class="text-danger">*</span></label>
          <input type="text" class="form-control" name="last_name" id="lastName" required>
        </div>

        <div class="col-md-4">
          <label class="form-label fw-semibold">First Name <span class="text-danger">*</span></label>
          <input type="text" class="form-control" name="first_name" id="firstName" required>
        </div>

        <div class="col-md-4">
          <label class="form-label fw-semibold">Middle Name</label>
          <input type="text" class="form-control" name="middle_name" id="middleName">
        </div>
      </div>

      <!-- ROW 2: DATE OF BIRTH / GENDER -->
      <div class="row g-3 mb-3">
        <div class="col-md-6">
          <label class="form-label fw-semibold">Date of Birth <span class="text-danger">*</span></label>
          <input type="text" class="form-control" name="date_of_birth" id="dateOfBirth" required placeholder="Select date">
        </div>

        <div class="col-md-6">
          <label class="form-label fw-semibold">Gender</label>
          <select class="form-select" name="gender" id="gender">
            <option value="">Select Gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
            <option value="other">Other</option>
          </select>
        </div>
      </div>

      <!-- ROW 3: CONTACT NUMBER -->
      <div class="row mb-3">
        <div class="col-12">
          <label class="form-label fw-semibold">Contact Number <span class="text-danger">*</span></label>
          <input type="tel" class="form-control" name="contact_number" id="contactNumber" required placeholder="e.g., 09123456789">
        </div>
      </div>

        <!-- SCHOOL -->
      <div class="row mb-3">
        <div class="col-12">
          <label class="form-label fw-semibold">School <span class="text-danger">*</span></label>
          <input
            type="text"
            class="form-control"
            name="school"
            id="school"
            required
            placeholder="Enter School Name"
          >
        </div>

      </div>
      <!-- ROW 4: EMAIL -->
      <div class="row mb-2">
        <div class="col-12">
          <label class="form-label fw-semibold">Email Address <span class="text-danger">*</span></label>
          <div class="input-group">
            <input type="email" class="form-control" name="email" id="email" required placeholder="user@example.com">
            <button type="button" id="sendOtpBtn" class="btn" style="display:none;">
              Send OTP
            </button>
            <span id="otpVerifiedBadge" class="otp-verified-badge" style="display:none;">
              <i class="bi bi-check-circle"></i> Verified
            </span>
          </div>
          <small id="otpStatus" class="mb-2 mt-1 small fw-semibold" style="display:none;"></small>
        </div>
      </div>

      <!-- RESEND OTP -->
      <div class="mb-3">
        <small
          id="resendOtpBtn"
          class="text-primary fw-semibold"
          style="cursor:pointer; display:none;"
        >
          Resend OTP
        </small>
      </div>

      <!-- OTP INPUT -->
      <div id="otpContainer" class="mb-3" style="display:none;">
        <label class="form-label fw-semibold">OTP Code <span class="text-danger">*</span></label>
        <div class="input-group">
          <input
            type="text"
            class="form-control text-center"
            id="otpInput"
            maxlength="6"
            placeholder="000000"
            style="letter-spacing: 0.5rem; font-size: 1.1rem;"
          >
          <button type="button" id="verifyOtpBtn" class="btn btn-success">
            Verify OTP
          </button>
        </div>
        <small class="text-muted">Enter the 6-digit code sent to your email</small>
      </div>

      <!-- PASSWORD SECTION -->
      <div id="passwordSection" style="display:none;">
        <div class="row g-3 mb-3">
          <div class="col-md-6">
            <label class="form-label fw-semibold">Password <span class="text-danger">*</span></label>
            <input type="password" class="form-control" name="password" id="password" minlength="8" required placeholder="At least 8 characters">
            <div id="passwordStrength" class="mt-1"></div>
            <small class="text-muted">Must contain uppercase, lowercase, and number</small>
          </div>

          <div class="col-md-6">
            <label class="form-label fw-semibold">Confirm Password <span class="text-danger">*</span></label>
            <input type="password" class="form-control" name="confirm_password" id="confirmPassword" required placeholder="Re-enter password">
          </div>
        </div>

        <div class="d-flex justify-content-end mb-3">
          <button
            type="button"
            class="btn btn-primary px-4 rounded-pill"
            id="registerBtn"
            disabled
            onclick="proceedToExamSchedule()"
          >
            Proceed
            <i class="bi bi-arrow-right ms-1"></i>
          </button>
        </div>


      </div>
    </div>

            <div id="examScheduleCard" class="card border-0 shadow-sm rounded-4 mb-4 d-none">
  <div class="card-body p-4">

    <h6 class="fw-semibold mb-4">
      <i class="bi bi-calendar-check me-2 text-primary"></i>
      Examination Schedule
    </h6>

    <!-- ROW 1: REGION -->
    <div class="row g-3 mb-3">
      <div class="col-md-6">
        <label class="form-label fw-semibold">
          Region <span class="text-danger">*</span>
        </label>
        <select class="form-select" disabled>
          <option selected>
            Select Region (assigned by administration)
          </option>
          <option>Luzon</option>
          <option>Visayas</option>
          <option>Mindanao</option>
        </select>
      </div>

      <!-- EXAM VENUE -->
      <div class="col-md-6">
        <label class="form-label fw-semibold">
          Examination Venue <span class="text-danger">*</span>
        </label>
        <select class="form-select" disabled>
          <option selected>
            Select Examination Venue
          </option>
          <option>Venue options will be provided by administration</option>
        </select>
      </div>
    </div>

    <!-- ROW 2: EXAM DATE -->
    <div class="row g-3 mb-4">
      <div class="col-md-6">
        <label class="form-label fw-semibold">
          Examination Date <span class="text-danger">*</span>
        </label>
        <select class="form-select" disabled>
          <option selected>
            Select Examination Date
          </option>
          <option>Date options will be scheduled by administration</option>
        </select>
      </div>
    </div>

    <!-- INFORMATION NOTE -->
    <div class="alert alert-light border rounded-3 small text-muted mb-4">
      <i class="bi bi-info-circle me-1"></i>
      Examination schedules, including region, venue, and date, are created
      and assigned by the Philippine Maritime Maritime Academy (PMMA).
      Available options will appear once officially released by the administration.
    </div>

    <!-- ACTION BUTTON -->
    <div class="d-flex justify-content-end">
      <button
        type="button"
        class="btn btn-primary px-4 rounded-pill"
        onclick="goToStep(4)"
      >
        Proceed
        <i class="bi bi-arrow-right ms-1"></i>
      </button>
    </div>

  </div>
</div>

          </form>

        </div>
      </div>
    </div>
  </div>
</div>
<script>
  function goToPersonalInfo() {
    document.getElementById('reminderCard').classList.add('d-none');
    document.getElementById('personalInfoCard').classList.remove('d-none');

    // hide login prompt
    document.getElementById('loginPrompt').classList.add('d-none');

    // Stepper visual update
    document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
    document.querySelectorAll('.step')[1].classList.add('active');
  }
    function goToStep(step) {
    const reminderCard = document.getElementById('reminderCard');
    const personalInfoCard = document.getElementById('personalInfoCard');
    const loginPrompt = document.getElementById('loginPrompt');
    const steps = document.querySelectorAll('.step');

    // reset step states
    steps.forEach(s => s.classList.remove('active'));

    if (step === 1) {
      reminderCard.classList.remove('d-none');
      personalInfoCard.classList.add('d-none');
      loginPrompt.classList.remove('d-none');
      steps[0].classList.add('active');
    }

    if (step === 2) {
      reminderCard.classList.add('d-none');
      personalInfoCard.classList.remove('d-none');
      loginPrompt.classList.add('d-none');
      steps[1].classList.add('active');
    }

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
</script>

<script>
  function proceedToExamSchedule() {
    // Hide personal info card
    document.getElementById('personalInfoCard').classList.add('d-none');

    // Show exam schedule card
    document.getElementById('examScheduleCard').classList.remove('d-none');

    // Stepper update
    const steps = document.querySelectorAll('.step');
    steps.forEach(step => step.classList.remove('active', 'completed'));

    // Mark previous steps completed
    steps[0].classList.add('completed'); // Reminders
    steps[1].classList.add('completed'); // Personal Info

    // Activate Examination Schedule step
    steps[2].classList.add('active');

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
</script>

<!-- Flatpickr JS -->
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.js"></script>
<script src="js/registration.js"></script>

</body>
</html>
